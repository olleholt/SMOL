---
title: "Graph1"
format: html
editor: visual
---

load the libraries

```{r}
library(tidyverse)
library(patchwork)
library(plotly)
library(lubridate)
```

```{r}
SMOL_file_path <- "/courses/EDS214/group_project/SMOL/data/"
PRM_data <- read_csv(file.path(SMOL_file_path, "RioMameyesPuenteRoto.csv"))
head(PRM_data)
BQ1_data <- read_csv(file.path(SMOL_file_path, "QuebradaCuenca1-Bisley.csv"))
head(BQ1_data)
BQ2 <- read_csv(file.path(SMOL_file_path, "QuebradaCuenca2-Bisley.csv"))
head(BQ2)
BQ3 <- read_csv(file.path(SMOL_file_path, "QuebradaCuenca3-Bisley.csv"))
head(BQ3)
```

```{r}
join <- full_join(PRM_data, BQ1_data) %>% 
  full_join(BQ2) %>% 
  full_join(BQ3)
```

```{r}
join_subset <- join %>% 
  select(Sample_ID, Sample_Date, `NO3-N`, K) %>% 
  mutate(year = lubridate::year(Sample_Date)) %>%
  filter(year %in% c(1989:1994)) %>% 
  group_by(Sample_ID)
```

```{r}
plot1 <- ggplot(data = join_subset, aes(x = Sample_Date, y = `NO3-N`)) +
  geom_line(aes(color = Sample_ID)) +
  theme(legend.position = "none") +
  theme_minimal()
  
plot2 <- ggplot(data = join_subset, aes(x = Sample_Date, y = K)) +
  geom_line(aes(color = Sample_ID)) +
  theme_minimal()

subplot(style(plot1, showlegend = FALSE), plot2, nrows = 2, shareX = TRUE)
```
